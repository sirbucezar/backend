import{_ as p,a as s,b as y}from"./tslib-DTLQ5SHO.js";var j=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function f(n,e){var t=z(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function z(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),a=j.get(i);a&&Object.defineProperty(n,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return n}var E=[".DS_Store","Thumbs.db"];function M(n){return p(this,void 0,void 0,function(){return s(this,function(e){return c(n)&&F(n)?[2,O(n.dataTransfer,n.type)]:P(n)?[2,_(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,k(n)]:[2,[]]})})}function F(n){return c(n.dataTransfer)}function P(n){return c(n)&&c(n.target)}function c(n){return typeof n=="object"&&n!==null}function _(n){return l(n.target.files).map(function(e){return f(e)})}function k(n){return p(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return f(i)})]}})})}function O(n,e){return p(this,void 0,void 0,function(){var t,i;return s(this,function(a){switch(a.label){case 0:return n===null?[2,[]]:n.items?(t=l(n.items).filter(function(r){return r.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(T))]):[3,2];case 1:return i=a.sent(),[2,v(x(i))];case 2:return[2,v(l(n.files).map(function(r){return f(r)}))]}})})}function v(n){return n.filter(function(e){return E.indexOf(e.name)===-1})}function l(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function T(n){if(typeof n.webkitGetAsEntry!="function")return h(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?b(e):h(n)}function x(n){return n.reduce(function(e,t){return y(e,Array.isArray(t)?x(t):[t])},[])}function h(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=f(e);return Promise.resolve(t)}function A(n){return p(this,void 0,void 0,function(){return s(this,function(e){return[2,n.isDirectory?b(n):D(n)]})})}function b(n){var e=n.createReader();return new Promise(function(t,i){var a=[];function r(){var w=this;e.readEntries(function(u){return p(w,void 0,void 0,function(){var m,d,g;return s(this,function(o){switch(o.label){case 0:if(u.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return m=o.sent(),t(m),[3,4];case 3:return d=o.sent(),i(d),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(A)),a.push(g),r(),o.label=6;case 6:return[2]}})})},function(u){i(u)})}r()})}function D(n){return p(this,void 0,void 0,function(){return s(this,function(e){return[2,new Promise(function(t,i){n.file(function(a){var r=f(a,n.fullPath);t(r)},function(a){i(a)})})]})})}export{M as f};
