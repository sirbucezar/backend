import"./react-dom-DXFLI2Zf.js";import{r as d,o as s}from"./react-CmEzmXpT.js";import{A as St,R as Tt,a as Ot,T as kt,C as Pt}from"./@radix-ui-Bax1LoxT.js";import{d as He}from"./dequal-CnqicUFC.js";import{s as Ue,c as _t,a as It}from"./zustand-C-t82aId.js";import{v as D}from"./v8n-93uuTh_4.js";import{q as zt}from"./@stitches-FmyCXE5L.js";import{u as Nt}from"./@use-gesture-DLtpIbzk.js";import{k as Dt,w as X,n as jt,I as Mt}from"./colord-C4etA4kz.js";import{C as Vt,N as At}from"./react-colorful-CCN0lGaG.js";import{u as Lt}from"./react-dropzone-CZ2UsFX2.js";import{m as Ht}from"./merge-value-BEeLj4vv.js";function Ut(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function R(e,t){if(e==null)return{};var n=Ut(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}let T;(function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"})(T||(T={}));const Wt={[T.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[T.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[T.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[T.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[T.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[T.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[T.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[T.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[T.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[T.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[T.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function We(e,t,...n){const[r,...o]=Wt[t](...n);console[e]("LEVA: "+r,...o)}const L=We.bind(null,"warn"),Ft=We.bind(null,"log"),Bt=["value"],Gt=["schema"],Yt=["value"],Fe=[],Y={};function Re(e){let{value:t}=e,n=R(e,Bt);for(let r of Fe){const o=r(t,n);if(o)return o}}function U(e,t){let{schema:n}=t,r=R(t,Gt);if(e in Y){L(T.ALREADY_REGISTERED_TYPE,e);return}Fe.push((o,a)=>n(o,a)&&e),Y[e]=r}function fe(e,t,n,r){const{normalize:o}=Y[e];if(o)return o(t,n,r);if(typeof t!="object"||!("value"in t))return{value:t};const{value:a}=t,i=R(t,Yt);return{value:a,settings:i}}function Kt(e,t,n,r,o,a){const{sanitize:i}=Y[e];return i?i(t,n,r,o,a):t}function Se(e,t,n){const{format:r}=Y[e];return r?r(t,n):t}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Te(Object(n),!0).forEach(function(r){Xt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const B=(e,t,n)=>e>n?n:e<t?t:e,Jt=e=>{if(e===""||typeof e=="number")return e;try{const t=F(e);if(!isNaN(t))return t}catch{}return parseFloat(e)},qt=Math.log(10);function Oe(e){let t=Math.abs(+String(e).replace(".",""));if(t===0)return .01;for(;t!==0&&t%10===0;)t/=10;const n=Math.floor(Math.log(t)/qt)+1,r=Math.floor(Math.log10(Math.abs(e))),o=Math.pow(10,r-n);return Math.max(o,.001)}const te=(e,t,n)=>n===t?0:(B(e,t,n)-t)/(n-t),ne=(e,t,n)=>e*(n-t)+t,Zt=()=>"_"+Math.random().toString(36).substr(2,9),ke=/\(([0-9+\-*/^ .]+)\)/,Pe=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,_e=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Ie=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,ze=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Ne=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function F(e){if(isNaN(Number(e)))if(ke.test(e)){const t=e.replace(ke,(n,r)=>String(F(r)));return F(t)}else if(Pe.test(e)){const t=e.replace(Pe,(n,r,o)=>String(Math.pow(Number(r),Number(o))));return F(t)}else if(_e.test(e)){const t=e.replace(_e,(n,r,o)=>String(Number(r)*Number(o)));return F(t)}else if(Ie.test(e)){const t=e.replace(Ie,(n,r,o)=>{if(o!=0)return String(Number(r)/Number(o));throw new Error("Division by zero")});return F(t)}else if(ze.test(e)){const t=e.replace(ze,(n,r,o)=>String(Number(r)+Number(o)));return F(t)}else if(Ne.test(e)){const t=e.replace(Ne,(n,r,o)=>String(Number(r)-Number(o)));return F(t)}else return Number(e);return Number(e)}function Qt(e,t){const n=v({},e);return t.forEach(r=>r in e&&delete n[r]),n}function en(e,t){return e.reduce((n,r,o)=>Object.assign(n,{[t[o]]:r}),{})}function Be(e){return Object.prototype.toString.call(e)==="[object Object]"}const tn=e=>Be(e)&&Object.keys(e).length===0;let A;(function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"})(A||(A={}));let M;(function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"})(M||(M={}));const nn=["type","__customInput"],rn=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],on=["type"];function Ge(e,t,n={},r){var o,a;if(typeof e!="object"||Array.isArray(e))return{type:r,input:e,options:v({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:P,__customInput:C}=e,S=R(e,nn);return Ge(C,t,S,P)}const{render:i,label:c,optional:l,order:u=0,disabled:f,hint:p,onChange:h,onEditStart:$,onEditEnd:g,transient:m}=e,y=R(e,rn),w=v({render:i,key:t,label:c??t,hint:p,transient:m??!!h,onEditStart:$,onEditEnd:g,disabled:f,optional:l,order:u},n);let{type:E}=y,x=R(y,on);if(E=r??E,E in A)return{type:E,input:x,options:w};let O;return r&&Be(x)&&"value"in x?O=x.value:O=tn(x)?void 0:x,{type:E,input:O,options:v(v({},w),{},{onChange:h,optional:(o=w.optional)!==null&&o!==void 0?o:!1,disabled:(a=w.disabled)!==null&&a!==void 0?a:!1})}}function sn(e,t,n,r){const o=Ge(e,t),{type:a,input:i,options:c}=o;if(a)return a in A?o:{type:a,input:fe(a,i,n,r),options:c};let l=Re(i);return l?{type:l,input:fe(l,i,n,r),options:c}:(l=Re({value:i}),l?{type:l,input:fe(l,{value:i},n,r),options:c}:!1)}function De(e,t,n,r,o){const{value:a,type:i,settings:c}=e;e.value=Ye({type:i,value:a,settings:c},t,n,r),e.fromPanel=o}const an=function(t,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=n,this.error=r};function Ye({type:e,value:t,settings:n},r,o,a){const i=e!=="SELECT"&&typeof r=="function"?r(t):r;let c;try{c=Kt(e,i,n,t,o,a)}catch(l){throw new an(`The value \`${r}\` did not result in a correct value.`,t,l)}return He(c,t)?t:c}const Ke=(e,t,n=!1)=>{let r=0;return function(){const o=arguments,a=n&&!r,i=()=>e.apply(this,o);window.clearTimeout(r),r=window.setTimeout(i,t),a&&i()}},Xe=e=>e.shiftKey?5:e.altKey?1/5:1,ln=["value"],cn=["min","max"],un=e=>{if(typeof e=="number")return!0;if(typeof e=="string"){const t=parseFloat(e);return isNaN(t)?!1:e.substring((""+t).length).trim().length<4}return!1},Je=(e,{min:t=-1/0,max:n=1/0,suffix:r})=>{const o=parseFloat(e);if(e===""||isNaN(o))throw Error("Invalid number");const a=B(o,t,n);return r?a+r:a},dn=(e,{pad:t=0,suffix:n})=>{const r=parseFloat(e).toFixed(t);return n?r+n:r},qe=e=>{let{value:t}=e,n=R(e,ln);const{min:r=-1/0,max:o=1/0}=n,a=R(n,cn);let i=parseFloat(t);const c=typeof t=="string"?t.substring((""+i).length):void 0;i=B(i,r,o);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(o)?l=+(Math.abs(o-r)/100).toPrecision(1):l=+(Math.abs(i-r)/100).toPrecision(1):Number.isFinite(o)&&(l=+(Math.abs(o-i)/100).toPrecision(1)));const u=l?Oe(l)*10:Oe(i);l=l||u/10;const f=Math.round(B(Math.log10(1/u),0,2));return{value:c?i+c:i,settings:v({initialValue:i,step:l,pad:f,min:r,max:o,suffix:c},a)}},Ze=(e,{step:t,initialValue:n})=>{const r=Math.round((e-n)/t);return n+r*t};var Qe=Object.freeze({__proto__:null,schema:un,sanitize:Je,format:dn,normalize:qe,sanitizeStep:Ze});function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}const et=d.createContext({});function _(){return d.useContext(et)}const tt=d.createContext(null),nt=d.createContext(null),rt=d.createContext(null);function Z(){return d.useContext(nt)}function fn(){return d.useContext(rt)}const pn=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ee(e,t){const[n,r]=e.split(" "),o={};return n!=="none"&&(o.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${n!=="default"&&n||t.borderColor}`),r&&(o.backgroundColor=r),o}const J={$inputStyle:()=>e=>ee(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>ee(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>ee(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>ee(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:b,css:ai,createTheme:li,globalCss:hn,keyframes:ci}=zt({prefix:"leva",theme:pn(),utils:v(v({},J),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":J.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":J.$focusStyle()(e)}),$hover:e=>({"&:hover":J.$hoverStyle()(e)}),$active:e=>({"&:active":J.$activeStyle()(e)})})}),gn=hn({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function H(e,t){const{theme:n}=d.useContext(tt);if(!(e in n)||!(t in n[e]))return L(T.THEME_ERROR,e,t),"";let r=t;for(;;){let o=n[e][r];if(typeof o=="string"&&o.charAt(0)==="$")r=o.substr(1);else return o}}const ot=b("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),it=b("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${ot}`]:{paddingLeft:0}}),mn=b(it,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),bn=b("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),$n=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],vn=["onUpdate"];function $e(e){let{innerLabel:t,value:n,onUpdate:r,onChange:o,onKeyDown:a,type:i,id:c,inputType:l="text",rows:u=0}=e,f=R(e,$n);const{id:p,emitOnEditStart:h,emitOnEditEnd:$,disabled:g}=_(),m=c||p,y=d.useRef(null),w=u>0,E=w?"textarea":"input",x=d.useCallback(C=>S=>{const z=S.currentTarget.value;C(z)},[]);s.useEffect(()=>{const C=y.current,S=x(z=>{r(z),$()});return C==null||C.addEventListener("blur",S),()=>C==null?void 0:C.removeEventListener("blur",S)},[x,r,$]);const O=d.useCallback(C=>{C.key==="Enter"&&x(r)(C)},[x,r]),P=Object.assign({as:E},w?{rows:u}:{},f);return s.createElement(bn,{textArea:w},t&&typeof t=="string"?s.createElement(it,null,t):t,s.createElement(ot,k({levaType:i,ref:y,id:m,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:x(o),onFocus:()=>h(),onKeyPress:O,onKeyDown:a,disabled:g},P)))}function En(e){let{onUpdate:t}=e,n=R(e,vn);const r=d.useCallback(a=>t(Jt(a)),[t]),o=d.useCallback(a=>{const i=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(i){a.preventDefault();const c=a.altKey?.1:a.shiftKey?10:1;t(l=>parseFloat(l)+i*c)}},[t]);return s.createElement($e,k({},n,{onUpdate:r,onKeyDown:o,type:"number"}))}const re=b("div",{}),he=b("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),yn=b("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${he}::after`]:{opacity:.6},[`${re}:hover > & + ${he}::after`]:{opacity:.6},[`${re}:hover > & > svg`]:{opacity:1}}),st=b("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${re}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),at=b("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${st} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),lt=b(at,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),wn=b("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Cn=b("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),ge=b("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),xn=b("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${ge}`]:{pointerEvents:"auto"}}}}}),ct=b("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Rn=b("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Sn=b(St,{fill:"$toolTipBackground"});function ve({children:e}){const{className:t}=d.useContext(tt);return s.createElement(Tt,{className:t},e)}const Tn=["align"];function On(){const{id:e,disable:t,disabled:n}=_();return s.createElement(s.Fragment,null,s.createElement(Cn,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),s.createElement("label",{htmlFor:e+"__disable"}))}function kn(e){const{id:t,optional:n,hint:r}=_(),o=e.htmlFor||(t?{htmlFor:t}:null),a=!r&&typeof e.children=="string"?{title:e.children}:null;return s.createElement(s.Fragment,null,n&&s.createElement(On,null),r!==void 0?s.createElement(Ot,null,s.createElement(kt,{asChild:!0},s.createElement(ge,k({},o,e))),s.createElement(Pt,{side:"top",sideOffset:2},s.createElement(Rn,null,r,s.createElement(Sn,null)))):s.createElement(ge,k({},o,a,e)))}function V(e){let{align:t}=e,n=R(e,Tn);const{value:r,label:o,key:a,disabled:i}=_(),{hideCopyButton:c}=fn(),l=!c&&a!==void 0,[u,f]=d.useState(!1),p=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:r??""})),f(!0)}catch{L(T.CLIPBOARD_ERROR,{[a]:r})}};return s.createElement(wn,{align:t,onPointerLeave:()=>f(!1)},s.createElement(kn,n),l&&!i&&s.createElement("div",{title:`Click to copy ${typeof o=="string"?o:a} value`},u?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),s.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):s.createElement("svg",{onClick:p,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),s.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Pn=["toggled"],_n=b("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Ee(e){let{toggled:t}=e,n=R(e,Pn);return s.createElement(_n,k({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),s.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const In=["input"];function j(e){let{input:t}=e,n=R(e,In);return t?s.createElement(lt,n):s.createElement(at,n)}function ut({value:e,type:t,settings:n,setValue:r}){const[o,a]=d.useState(Se(t,e,n)),i=d.useRef(e),c=d.useRef(n);c.current=n;const l=d.useCallback(f=>a(Se(t,f,c.current)),[t]),u=d.useCallback(f=>{try{r(f)}catch(p){const{type:h,previousValue:$}=p;if(h!=="LEVA_ERROR")throw p;l($)}},[l,r]);return d.useEffect(()=>{He(e,i.current)||l(e),i.current=e},[e,l]),{displayValue:o,onChange:a,onUpdate:u}}function Q(e,t){const{emitOnEditStart:n,emitOnEditEnd:r}=_();return Nt(o=>{o.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const a=e(o);return o.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),a},t)}function zn(e){const t=d.useRef(null),n=d.useRef(null),r=d.useRef(!1);return d.useEffect(()=>{const o=Ke(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener("resize",o),r.current||(o(),r.current=!0),()=>window.removeEventListener("resize",o)},[e]),d.useEffect(()=>{n.current=t.current.getContext("2d")},[]),[t,n]}function dt(){const e=d.useRef(null),t=d.useRef({x:0,y:0}),n=d.useCallback(r=>{Object.assign(t.current,r),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}const Nn=["__refCount"],pe=(e,t)=>{if(!e[t])return null;const n=e[t];return R(n,Nn)};function Dn(e){const t=Z(),[n,r]=d.useState(pe(t.getData(),e)),o=d.useCallback(u=>t.setValueAtPath(e,u,!0),[e,t]),a=d.useCallback(u=>t.setSettingsAtPath(e,u),[e,t]),i=d.useCallback(u=>t.disableInputAtPath(e,u),[e,t]),c=d.useCallback(()=>t.emitOnEditStart(e),[e,t]),l=d.useCallback(()=>t.emitOnEditEnd(e),[e,t]);return d.useEffect(()=>{r(pe(t.getData(),e));const u=t.useStore.subscribe(f=>pe(f.data,e),r,{equalityFn:Ue});return()=>u()},[t,e]),[n,{set:o,setSettings:a,disable:i,storeId:t.storeId,emitOnEditStart:c,emitOnEditEnd:l}]}const jn=b("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),ft=b("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),me=b("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),pt=b("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),ht=b("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Mn({value:e,min:t,max:n,onDrag:r,step:o,initialValue:a}){const i=d.useRef(null),c=d.useRef(null),l=d.useRef(0),u=H("sizes","scrubberWidth"),f=Q(({event:h,first:$,xy:[g],movement:[m],memo:y})=>{if($){const{width:E,left:x}=i.current.getBoundingClientRect();l.current=E-parseFloat(u),y=(h==null?void 0:h.target)===c.current?e:ne((g-x)/E,t,n)}const w=y+ne(m/l.current,0,n-t);return r(Ze(w,{step:o,initialValue:a})),y}),p=te(e,t,n);return s.createElement(pt,k({ref:i},f()),s.createElement(ft,null,s.createElement(ht,{style:{left:0,right:`${(1-p)*100}%`}})),s.createElement(me,{ref:c,style:{left:`calc(${p} * (100% - ${u}))`}}))}const Vn=s.memo(({label:e,onUpdate:t,step:n,innerLabelTrim:r})=>{const[o,a]=d.useState(!1),i=Q(({active:c,delta:[l],event:u,memo:f=0})=>(a(c),f+=l/2,Math.abs(f)>=1&&(t(p=>parseFloat(p)+Math.floor(f)*n*Xe(u)),f=0),f));return s.createElement(mn,k({dragging:o,title:e.length>1?e:""},i()),e.slice(0,r))});function gt({label:e,id:t,displayValue:n,onUpdate:r,onChange:o,settings:a,innerLabelTrim:i=1}){const c=i>0&&s.createElement(Vn,{label:e,step:a.step,onUpdate:r,innerLabelTrim:i});return s.createElement(En,{id:t,value:String(n),onUpdate:r,onChange:o,innerLabel:c})}function An(){const e=_(),{label:t,value:n,onUpdate:r,settings:o,id:a}=e,{min:i,max:c}=o,l=c!==1/0&&i!==-1/0;return s.createElement(j,{input:!0},s.createElement(V,null,t),s.createElement(jn,{hasRange:l},l&&s.createElement(Mn,k({value:parseFloat(n),onDrag:r},o)),s.createElement(gt,k({},e,{id:a,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Ln}=Qe,Hn=R(Qe,["sanitizeStep"]);var Un=v({component:An},Hn);const Wn=(e,t)=>D().schema({options:D().passesAnyOf(D().object(),D().array())}).test(t),Fn=(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},Bn=(e,{values:t})=>t.indexOf(e),Gn=e=>{let{value:t,options:n}=e,r,o;return Array.isArray(n)?(o=n,r=n.map(a=>String(a))):(o=Object.values(n),r=Object.keys(n)),"value"in e?o.includes(t)||(r.unshift(String(t)),o.unshift(t)):t=o[0],Object.values(n).includes(t)||(n[String(t)]=t),{value:t,settings:{keys:r,values:o}}};var Yn=Object.freeze({__proto__:null,schema:Wn,sanitize:Fn,format:Bn,normalize:Gn});const Kn=b("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),be=b("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Xn=b("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${be}:focus + &`]:{$focusStyle:""},[`${be}:hover + &`]:{$hoverStyle:""}});function Jn({displayValue:e,value:t,onUpdate:n,id:r,settings:o,disabled:a}){const{keys:i,values:c}=o,l=d.useRef();return t===c[e]&&(l.current=i[e]),s.createElement(Kn,null,s.createElement(be,{id:r,value:e,onChange:u=>n(c[Number(u.currentTarget.value)]),disabled:a},i.map((u,f)=>s.createElement("option",{key:u,value:f},u))),s.createElement(Xn,null,l.current),s.createElement(Ee,{toggled:!0}))}function qn(){const{label:e,value:t,displayValue:n,onUpdate:r,id:o,disabled:a,settings:i}=_();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(Jn,{id:o,value:t,displayValue:n,onUpdate:r,settings:i,disabled:a}))}var Zn=v({component:qn},Yn);const Qn=e=>D().string().test(e),er=e=>{if(typeof e!="string")throw Error("Invalid string");return e},tr=({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:typeof n=="number"?n:n?5:0}});var nr=Object.freeze({__proto__:null,schema:Qn,sanitize:er,normalize:tr});const rr=["displayValue","onUpdate","onChange","editable"],or=b("div",{whiteSpace:"pre-wrap"});function ir(e){let{displayValue:t,onUpdate:n,onChange:r,editable:o=!0}=e,a=R(e,rr);return o?s.createElement($e,k({value:t,onUpdate:n,onChange:r},a)):s.createElement(or,null,t)}function sr(){const{label:e,settings:t,displayValue:n,onUpdate:r,onChange:o}=_();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(ir,k({displayValue:n,onUpdate:r,onChange:o},t)))}var ar=v({component:sr},nr);const lr=e=>D().boolean().test(e),cr=e=>{if(typeof e!="boolean")throw Error("Invalid boolean");return e};var ur=Object.freeze({__proto__:null,schema:lr,sanitize:cr});const dr=b("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function fr({value:e,onUpdate:t,id:n,disabled:r}){return s.createElement(dr,null,s.createElement("input",{id:n,type:"checkbox",checked:e,onChange:o=>t(o.currentTarget.checked),disabled:r}),s.createElement("label",{htmlFor:n},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function pr(){const{label:e,value:t,onUpdate:n,disabled:r,id:o}=_();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(fr,{value:t,onUpdate:n,id:o,disabled:r}))}var hr=v({component:pr},ur);const gr=["locked"];function mr({value:e,id:t,valueKey:n,settings:r,onUpdate:o,innerLabelTrim:a}){const i=d.useRef(e[n]);i.current=e[n];const c=d.useCallback(u=>o({[n]:Ye({type:"NUMBER",value:i.current,settings:r},u)}),[o,r,n]),l=ut({type:"NUMBER",value:e[n],settings:r,setValue:c});return s.createElement(gt,{id:t,label:n,value:e[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:a})}const br=b("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function $r(e){let{locked:t}=e,n=R(e,gr);return s.createElement("svg",k({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?s.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):s.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ye({value:e,onUpdate:t,settings:n,innerLabelTrim:r}){const{id:o,setSettings:a}=_(),{lock:i,locked:c}=n;return s.createElement(br,{withLock:i},i&&s.createElement($r,{locked:c,onClick:()=>a({locked:!c})}),Object.keys(e).map((l,u)=>s.createElement(mr,{id:u===0?o:`${o}.${l}`,key:l,valueKey:l,value:e,settings:n[l],onUpdate:t,innerLabelTrim:r})))}const mt=(e,t)=>{const n={};let r=0,o=1/0;Object.entries(e).forEach(([a,i])=>{n[a]=qe(v({value:i},t[a])).settings,r=Math.max(r,n[a].step),o=Math.min(o,n[a].pad)});for(let a in n){const{step:i,min:c,max:l}=t[a]||{};!isFinite(i)&&(!isFinite(c)||!isFinite(l))&&(n[a].step=r,n[a].pad=o)}return n},vr=["lock"],Er=["value"];function yr(e){const t=D().array().length(e).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const o=Object.values(r);return o.length===e&&o.every(a=>isFinite(a))};return r=>t.test(r)||n(r)}function wr(e){return Array.isArray(e)?"array":"object"}function q(e,t,n){return wr(e)===t?e:t==="array"?Object.values(e):en(e,n)}const Cr=(e,t,n)=>{const r=q(e,"object",t.keys);for(let i in r)r[i]=Je(r[i],t[i]);const o=Object.keys(r);let a={};if(o.length===t.keys.length)a=r;else{const i=q(n,"object",t.keys);if(o.length===1&&t.locked){const c=o[0],l=r[c],u=i[c],f=u!==0?l/u:1;for(let p in i)p===c?a[c]=l:a[p]=i[p]*f}else a=v(v({},i),r)}return q(a,t.format,t.keys)},xr=(e,t)=>q(e,"object",t.keys),Rr=e=>!!e&&("step"in e||"min"in e||"max"in e);function Sr(e,t,n=[]){const{lock:r=!1}=t,o=R(t,vr),a=Array.isArray(e)?"array":"object",i=a==="object"?Object.keys(e):n,c=q(e,"object",i),l=Rr(o)?i.reduce((f,p)=>Object.assign(f,{[p]:o}),{}):o,u=mt(c,l);return{value:a==="array"?e:c,settings:v(v({},u),{},{format:a,keys:i,lock:r,locked:!1})}}function bt(e){return{schema:yr(e.length),normalize:t=>{let{value:n}=t,r=R(t,Er);return Sr(n,r,e)},format:(t,n)=>xr(t,n),sanitize:(t,n,r)=>Cr(t,n,r)}}const we=(...e)=>e.filter(Boolean).join(".");function Tr(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}function Or(e){const t=d.useRef(null),n=d.useRef(null),r=d.useRef(!0);return d.useLayoutEffect(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),d.useEffect(()=>{if(r.current){r.current=!1;return}let o;const a=t.current,i=()=>{e&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",i,{once:!0});const{height:c}=n.current.getBoundingClientRect();return a.style.height=c+"px",e||(a.style.overflow="hidden",o=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",i),clearTimeout(o)}},[e]),{wrapperRef:t,contentRef:n}}const kr=e=>{const[t,n]=d.useState(e.getVisiblePaths());return d.useEffect(()=>{n(e.getVisiblePaths());const r=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:Ue});return()=>r()},[e]),t};function $t(e=3){const t=d.useRef(null),n=d.useRef(null),[r,o]=d.useState(!1),a=d.useCallback(()=>o(!0),[]),i=d.useCallback(()=>o(!1),[]);return d.useLayoutEffect(()=>{if(r){const{bottom:c,top:l,left:u}=t.current.getBoundingClientRect(),{height:f}=n.current.getBoundingClientRect(),p=c+f>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",p==="down"?n.current.style.top=c+e+"px":n.current.style.bottom=window.innerHeight-l+e+"px"}},[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:a,hide:i}}Dt([jt]);const Pr={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};D.extend({color:()=>e=>X(e).isValid()});const _r=e=>D().color().test(e);function vt(e,{format:t,hasAlpha:n,isString:r}){const o=Pr[t]+(r&&t!=="hex"?"String":""),a=e[o]();return typeof a=="object"&&!n?Qt(a,["a"]):a}const Et=(e,t)=>{const n=X(e);if(!n.isValid())throw Error("Invalid color");return vt(n,t)},Ir=(e,t)=>vt(X(e),v(v({},t),{},{isString:!0,format:"hex"})),zr=({value:e})=>{const t=Mt(e),n=t==="name"?"hex":t,r=typeof e=="object"?"a"in e:t==="hex"&&e.length===8||/^(rgba)|(hsla)|(hsva)/.test(e),o={format:n,hasAlpha:r,isString:typeof e=="string"};return{value:Et(e,o),settings:o}};var Nr=Object.freeze({__proto__:null,schema:_r,sanitize:Et,format:Ir,normalize:zr});const Dr=b("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),jr=b("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Mr=b("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function je(e,t){return t!=="rgb"?X(e).toRgb():e}function Vr({value:e,displayValue:t,settings:n,onUpdate:r}){const{emitOnEditStart:o,emitOnEditEnd:a}=_(),{format:i,hasAlpha:c}=n,{popinRef:l,wrapperRef:u,shown:f,show:p,hide:h}=$t(),$=d.useRef(0),[g,m]=d.useState(()=>je(e,i)),y=c?Vt:At,w=()=>{m(je(e,i)),p(),o()},E=()=>{h(),a(),window.clearTimeout($.current)},x=()=>{$.current=window.setTimeout(E,500)};return d.useEffect(()=>()=>window.clearTimeout($.current),[]),s.createElement(s.Fragment,null,s.createElement(Dr,{ref:l,active:f,onClick:()=>w(),style:{color:t}}),f&&s.createElement(ve,null,s.createElement(ct,{onPointerUp:E}),s.createElement(Mr,{ref:u,onMouseEnter:()=>window.clearTimeout($.current),onMouseLeave:O=>O.buttons===0&&x()},s.createElement(y,{color:g,onChange:r}))))}function Ar(){const{value:e,displayValue:t,label:n,onChange:r,onUpdate:o,settings:a}=_();return s.createElement(j,{input:!0},s.createElement(V,null,n),s.createElement(jr,null,s.createElement(Vr,{value:e,displayValue:t,onChange:r,onUpdate:o,settings:a}),s.createElement($e,{value:t,onChange:r,onUpdate:o})))}var Lr=v({component:Ar},Nr);function Hr(){const{label:e,displayValue:t,onUpdate:n,settings:r}=_();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(ye,{value:t,settings:r,onUpdate:n}))}var Ur=v({component:Hr},bt(["x","y","z"]));const Wr=b("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Fr=b("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Br({value:e,settings:t,onUpdate:n}){const r=d.useRef(),o=d.useRef(0),a=d.useRef(0),i=d.useRef(1),[c,l]=d.useState(!1),[u,f]=d.useState(!1),[p,h]=dt(),$=d.useRef(null),g=d.useRef(null);d.useLayoutEffect(()=>{if(c){const{top:N,left:W,width:K,height:ae}=$.current.getBoundingClientRect();g.current.style.left=W+K/2+"px",g.current.style.top=N+ae/2+"px"}},[c]);const{keys:[m,y],joystick:w}=t,E=w==="invertY"?1:-1,{[m]:{step:x},[y]:{step:O}}=t,P=H("sizes","joystickWidth"),C=H("sizes","joystickHeight"),S=parseFloat(P)*.8/2,z=parseFloat(C)*.8/2,G=d.useCallback(()=>{r.current||(f(!0),o.current&&h({x:o.current*S}),a.current&&h({y:a.current*-z}),r.current=window.setInterval(()=>{n(N=>{const W=x*o.current*i.current,K=E*O*a.current*i.current;return Array.isArray(N)?{[m]:N[0]+W,[y]:N[1]+K}:{[m]:N[m]+W,[y]:N[y]+K}})},16))},[S,z,n,h,x,O,m,y,E]),I=d.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,f(!1)},[]);d.useEffect(()=>{function N(W){i.current=Xe(W)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const se=Q(({first:N,active:W,delta:[K,ae],movement:[le,ce]})=>{N&&l(!0);const ue=B(le,-S,S),de=B(ce,-z,z);o.current=Math.abs(le)>Math.abs(ue)?Math.sign(le-ue):0,a.current=Math.abs(ce)>Math.abs(de)?Math.sign(de-ce):0;let Ce=e[m],xe=e[y];W?(o.current||(Ce+=K*x*i.current,h({x:ue})),a.current||(xe-=E*ae*O*i.current,h({y:de})),o.current||a.current?G():I(),n({[m]:Ce,[y]:xe})):(l(!1),o.current=0,a.current=0,h({x:0,y:0}),I())});return s.createElement(Wr,k({ref:$},se()),c&&s.createElement(ve,null,s.createElement(Fr,{ref:g,isOutOfBounds:u},s.createElement("div",null),s.createElement("span",{ref:p}))))}const Gr=b("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Yr(){const{label:e,displayValue:t,onUpdate:n,settings:r}=_();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(Gr,{withJoystick:!!r.joystick},r.joystick&&s.createElement(Br,{value:t,settings:r,onUpdate:n}),s.createElement(ye,{value:t,settings:r,onUpdate:n})))}const Kr=["joystick"],yt=bt(["x","y"]),Xr=e=>{let{joystick:t=!0}=e,n=R(e,Kr);const{value:r,settings:o}=yt.normalize(n);return{value:r,settings:v(v({},o),{},{joystick:t})}};var Jr=v(v({component:Yr},yt),{},{normalize:Xr});const qr=e=>{if(e!==void 0){if(e instanceof File)try{return URL.createObjectURL(e)}catch{return}if(typeof e=="string"&&e.indexOf("blob:")===0)return e;throw Error("Invalid image format [undefined | blob |Â File].")}},Zr=(e,t)=>typeof t=="object"&&"image"in t,Qr=({image:e})=>({value:e});var eo=Object.freeze({__proto__:null,sanitize:qr,schema:Zr,normalize:Qr});const to=b("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),no=b("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ro=b("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),oo=b("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),io=b("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),so=b("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ao(){const{label:e,value:t,onUpdate:n,disabled:r}=_(),{popinRef:o,wrapperRef:a,shown:i,show:c,hide:l}=$t(),u=d.useCallback(g=>{g.length&&n(g[0])},[n]),f=d.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:p,getInputProps:h,isDragAccept:$}=Lt({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(to,null,s.createElement(ro,{ref:o,hasImage:!!t,onPointerDown:()=>!!t&&c(),onPointerUp:l,style:{backgroundImage:t?`url(${t})`:"none"}}),i&&!!t&&s.createElement(ve,null,s.createElement(ct,{onPointerUp:l,style:{cursor:"pointer"}}),s.createElement(oo,{ref:a,style:{backgroundImage:`url(${t})`}})),s.createElement(no,p({isDragAccept:$}),s.createElement("input",h()),s.createElement(io,null,$?"drop image":"click or drop")),s.createElement(so,{onClick:f,disabled:!t})))}var lo=v({component:ao},eo);const Me=D().number(),co=(e,t)=>D().array().length(2).every.number().test(e)&&D().schema({min:Me,max:Me}).test(t),oe=e=>({min:e[0],max:e[1]}),wt=(e,{bounds:[t,n]},r)=>{const o=Array.isArray(e)?oe(e):e,a={min:r[0],max:r[1]},{min:i,max:c}=v(v({},a),o);return[B(Number(i),t,Math.max(t,c)),B(Number(c),Math.min(n,i),n)]},uo=({value:e,min:t,max:n})=>{const r={min:t,max:n},o=mt(oe(e),{min:r,max:r}),a=[t,n],i=v(v({},o),{},{bounds:a});return{value:wt(oe(e),i,e),settings:i}};var fo=Object.freeze({__proto__:null,schema:co,format:oe,sanitize:wt,normalize:uo});const po=["value","bounds","onDrag"],ho=["bounds"],go=b("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function mo(e){let{value:t,bounds:[n,r],onDrag:o}=e,a=R(e,po);const i=d.useRef(null),c=d.useRef(null),l=d.useRef(null),u=d.useRef(0),f=H("sizes","scrubberWidth"),p=Q(({event:g,first:m,xy:[y],movement:[w],memo:E={}})=>{if(m){const{width:O,left:P}=i.current.getBoundingClientRect();u.current=O-parseFloat(f);const C=(g==null?void 0:g.target)===c.current||(g==null?void 0:g.target)===l.current;E.pos=ne((y-P)/O,n,r);const S=Math.abs(E.pos-t.min)-Math.abs(E.pos-t.max);E.key=S<0||S===0&&E.pos<=t.min?"min":"max",C&&(E.pos=t[E.key])}const x=E.pos+ne(w/u.current,0,r-n);return o({[E.key]:Ln(x,a[E.key])}),E}),h=`calc(${te(t.min,n,r)} * (100% - ${f} - 8px) + 4px)`,$=`calc(${1-te(t.max,n,r)} * (100% - ${f} - 8px) + 4px)`;return s.createElement(pt,k({ref:i},p()),s.createElement(ft,null,s.createElement(ht,{style:{left:h,right:$}})),s.createElement(me,{position:"left",ref:c,style:{left:h}}),s.createElement(me,{position:"right",ref:l,style:{right:$}}))}function bo(){const{label:e,displayValue:t,onUpdate:n,settings:r}=_(),o=R(r,ho);return s.createElement(s.Fragment,null,s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(go,null,s.createElement(mo,k({value:t},r,{onDrag:n})),s.createElement(ye,{value:t,settings:o,onUpdate:n,innerLabelTrim:0}))))}var $o=v({component:bo},fo);const vo=()=>{const e=new Map;return{on:(t,n)=>{let r=e.get(t);r===void 0&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{const r=e.get(t);r!==void 0&&(r.delete(n),r.size===0&&e.delete(t))},emit:(t,...n)=>{const r=e.get(t);if(r!==void 0)for(const o of r)o(...n)}}},Eo=["type","value"],yo=["onChange","transient","onEditStart","onEditEnd"],wo=function(){const t=_t(It(()=>({data:{}}))),n=vo();this.storeId=Zt(),this.useStore=t;const r={},o=new Set;this.getVisiblePaths=()=>{const i=this.getData(),c=Object.keys(i),l=[];Object.entries(r).forEach(([f,p])=>{p.render&&c.some(h=>h.indexOf(f)===0)&&!p.render(this.get)&&l.push(f+".")});const u=[];return o.forEach(f=>{f in i&&i[f].__refCount>0&&l.every(p=>f.indexOf(p)===-1)&&(!i[f].render||i[f].render(this.get))&&u.push(f)}),u},this.setOrderedPaths=i=>{i.forEach(c=>o.add(c))},this.orderPaths=i=>(this.setOrderedPaths(i),i),this.disposePaths=i=>{t.setState(c=>{const l=c.data;return i.forEach(u=>{if(u in l){const f=l[u];f.__refCount--,f.__refCount===0&&f.type in A&&delete l[u]}}),{data:l}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=i=>r[i]||{},this.getData=()=>t.getState().data,this.addData=(i,c)=>{t.setState(l=>{const u=l.data;return Object.entries(i).forEach(([f,p])=>{let h=u[f];if(h){const{type:$,value:g}=p,m=R(p,Eo);$!==h.type?L(T.INPUT_TYPE_OVERRIDE,$):((h.__refCount===0||c)&&Object.assign(h,m),h.__refCount++)}else u[f]=v(v({},p),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(i,c,l)=>{t.setState(u=>{const f=u.data;return De(f[i],c,i,this,l),{data:f}})},this.setSettingsAtPath=(i,c)=>{t.setState(l=>{const u=l.data;return u[i].settings=v(v({},u[i].settings),c),{data:u}})},this.disableInputAtPath=(i,c)=>{t.setState(l=>{const u=l.data;return u[i].disabled=c,{data:u}})},this.set=(i,c)=>{t.setState(l=>{const u=l.data;return Object.entries(i).forEach(([f,p])=>{try{De(u[f],p,void 0,void 0,c)}catch{}}),{data:u}})},this.getInput=i=>{try{return this.getData()[i]}catch{L(T.PATH_DOESNT_EXIST,i)}},this.get=i=>{var c;return(c=this.getInput(i))===null||c===void 0?void 0:c.value},this.emitOnEditStart=i=>{n.emit(`onEditStart:${i}`,this.get(i),i,v(v({},this.getInput(i)),{},{get:this.get}))},this.emitOnEditEnd=i=>{n.emit(`onEditEnd:${i}`,this.get(i),i,v(v({},this.getInput(i)),{},{get:this.get}))},this.subscribeToEditStart=(i,c)=>{const l=`onEditStart:${i}`;return n.on(l,c),()=>n.off(l,c)},this.subscribeToEditEnd=(i,c)=>{const l=`onEditEnd:${i}`;return n.on(l,c),()=>n.off(l,c)};const a=(i,c,l)=>{const u={};return Object.entries(i).forEach(([f,p])=>{if(f==="")return L(T.EMPTY_KEY);let h=we(c,f);if(p.type===A.FOLDER){const $=a(p.schema,h,l);Object.assign(u,$),h in r||(r[h]=p.settings)}else if(f in l)L(T.DUPLICATE_KEYS,f,h,l[f].path);else{const $=sn(p,f,h,u);if($){const{type:g,options:m,input:y}=$,{onChange:w,transient:E,onEditStart:x,onEditEnd:O}=m,P=R(m,yo);u[h]=v(v(v({type:g},P),y),{},{fromPanel:!0}),l[f]={path:h,onChange:w,transient:E,onEditStart:x,onEditEnd:O}}else L(T.UNKNOWN_INPUT,h,p)}}),u};this.getDataFromSchema=i=>{const c={};return[a(i,"",c),c]}};new wo;const Ve=e=>"__levaInput"in e,Co=(e,t)=>{const n={},r=t?t.toLowerCase():null;return e.forEach(o=>{const[a,i]=Tr(o);(!r||a.toLowerCase().indexOf(r)>-1)&&Ht(n,i,{[a]:{__levaInput:!0,path:o}})}),n},xo=["type","label","path","valueKey","value","settings","setValue","disabled"];function Ro(e){let{type:t,label:n,path:r,valueKey:o,value:a,settings:i,setValue:c,disabled:l}=e,u=R(e,xo);const{displayValue:f,onChange:p,onUpdate:h}=ut({type:t,value:a,settings:i,setValue:c}),$=Y[t].component;return $?s.createElement(et.Provider,{value:v({key:o,path:r,id:""+r,label:n,displayValue:f,value:a,onChange:p,onUpdate:h,settings:i,setValue:c,disabled:l},u)},s.createElement(xn,{disabled:l},s.createElement($,null))):(L(T.NO_COMPONENT_FOR_TYPE,t,r),null)}const So=b("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function To({onClick:e,settings:t,label:n}){const r=Z();return s.createElement(j,null,s.createElement(So,{disabled:t.disabled,onClick:()=>e(r.get)},n))}const Oo=b("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),ko=b("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Po=({label:e,opts:t})=>{let n=typeof e=="string"&&e.trim()===""?null:e,r=t;return typeof t.opts=="object"&&(r.label!==void 0&&(n=t.label),r=t.opts),{label:n,opts:r}};function _o(e){const{label:t,opts:n}=Po(e),r=Z();return s.createElement(j,{input:!!t},t&&s.createElement(V,null,t),s.createElement(Oo,null,Object.entries(n).map(([o,a])=>s.createElement(ko,{key:o,onClick:()=>a(r.get)},o))))}const Io=b("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),Ct=100;function zo(e,t){e.push(t),e.length>Ct&&e.shift()}const No=d.forwardRef(function({initialValue:e},t){const n=H("colors","highlight3"),r=H("colors","elevation2"),o=H("colors","highlight1"),[a,i]=d.useMemo(()=>[X(o).alpha(.4).toRgbString(),X(o).alpha(.1).toRgbString()],[o]),c=d.useRef([e]),l=d.useRef(e),u=d.useRef(e),f=d.useRef(),p=d.useCallback((g,m)=>{if(!g)return;const{width:y,height:w}=g,E=new Path2D,x=y/Ct,O=w*.05;for(let S=0;S<c.current.length;S++){const z=te(c.current[S],l.current,u.current),G=x*S,I=w-z*(w-O*2)-O;E.lineTo(G,I)}m.clearRect(0,0,y,w);const P=new Path2D(E);P.lineTo(x*(c.current.length+1),w),P.lineTo(0,w),P.lineTo(0,0);const C=m.createLinearGradient(0,0,0,w);C.addColorStop(0,a),C.addColorStop(1,i),m.fillStyle=C,m.fill(P),m.strokeStyle=r,m.lineJoin="round",m.lineWidth=14,m.stroke(E),m.strokeStyle=n,m.lineWidth=2,m.stroke(E)},[n,r,a,i]),[h,$]=zn(p);return d.useImperativeHandle(t,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),zo(c.current,g),f.current=requestAnimationFrame(()=>p(h.current,$.current))}}),[h,$,p]),d.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),s.createElement(Io,{ref:h})}),Ae=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),Do=d.forwardRef(function({initialValue:e},t){const[n,r]=d.useState(Ae(e));return d.useImperativeHandle(t,()=>({frame:o=>r(Ae(o))}),[]),s.createElement("div",null,n)});function Le(e){return typeof e=="function"?e():e.current}function jo({label:e,objectOrFn:t,settings:n}){const r=d.useRef(),o=d.useRef(Le(t));return d.useEffect(()=>{const a=window.setInterval(()=>{var i;document.hidden||(i=r.current)===null||i===void 0||i.frame(Le(t))},n.interval);return()=>window.clearInterval(a)},[t,n.interval]),s.createElement(j,{input:!0},s.createElement(V,{align:"top"},e),n.graph?s.createElement(No,{ref:r,initialValue:o.current}):s.createElement(Do,{ref:r,initialValue:o.current}))}const Mo=["type","label","key"],Vo={[A.BUTTON]:To,[A.BUTTON_GROUP]:_o,[A.MONITOR]:jo},Ao=s.memo(({path:e})=>{const[t,{set:n,setSettings:r,disable:o,storeId:a,emitOnEditStart:i,emitOnEditEnd:c}]=Dn(e);if(!t)return null;const{type:l,label:u,key:f}=t,p=R(t,Mo);if(l in A){const h=Vo[l];return s.createElement(h,k({label:u,path:e},p))}return l in Y?s.createElement(Ro,k({key:a+e,type:l,label:u,storeId:a,path:e,valueKey:f,setValue:n,setSettings:r,disable:o,emitOnEditStart:i,emitOnEditEnd:c},p)):(Ft(T.UNSUPPORTED_INPUT,l,e),null)});function Lo({toggle:e,toggled:t,name:n}){return s.createElement(yn,{onClick:()=>e()},s.createElement(Ee,{toggled:t}),s.createElement("div",null,n))}const Ho=({name:e,path:t,tree:n})=>{const r=Z(),o=we(t,e),{collapsed:a,color:i}=r.getFolderSettings(o),[c,l]=d.useState(!a),u=d.useRef(null),f=H("colors","folderWidgetColor"),p=H("colors","folderTextColor");return d.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",i||f),u.current.style.setProperty("--leva-colors-folderTextColor",i||p)},[i,f,p]),s.createElement(re,{ref:u},s.createElement(Lo,{name:e,toggled:c,toggle:()=>l(h=>!h)}),s.createElement(xt,{parent:o,tree:n,toggled:c}))},xt=s.memo(({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:r,tree:o,toggled:a})=>{const{wrapperRef:i,contentRef:c}=Or(a),l=Z(),u=([p,h])=>{var $;return(Ve(h)?($=l.getInput(h.path))===null||$===void 0?void 0:$.order:l.getFolderSettings(we(r,p)).order)||0},f=Object.entries(o).sort((p,h)=>u(p)-u(h));return s.createElement(he,{ref:i,isRoot:e,fill:t,flat:n},s.createElement(st,{ref:c,isRoot:e,toggled:a},f.map(([p,h])=>Ve(h)?s.createElement(Ao,{key:h.path,valueKey:h.valueKey,path:h.path}):s.createElement(Ho,{key:p,name:p,path:r,tree:h}))))}),Uo=b("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${lt}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Rt=40,ie=b("i",{$flexCenter:"",width:Rt,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Wo=b("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Fo=b("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${ie}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Bo=b("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Go=b("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Rt}}}}),Yo=s.forwardRef(({setFilter:e,toggle:t},n)=>{const[r,o]=d.useState(""),a=d.useMemo(()=>Ke(e,250),[e]),i=()=>{e(""),o("")},c=l=>{const u=l.currentTarget.value;t(!0),o(u)};return d.useEffect(()=>{a(r)},[r,a]),s.createElement(s.Fragment,null,s.createElement(Bo,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:c}),s.createElement(ie,{onClick:()=>i(),style:{visibility:r?"visible":"hidden"}},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Ko({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:r,toggle:o,toggled:a,title:i,drag:c,filterEnabled:l,from:u}){const[f,p]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{var g,m;f?(g=h.current)===null||g===void 0||g.focus():(m=h.current)===null||m===void 0||m.blur()},[f]);const $=Q(({offset:[g,m],first:y,last:w})=>{t({x:g,y:m}),y&&n({x:g,y:m}),w&&r({x:g,y:m})},{filterTaps:!0,from:({offset:[g,m]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||m]});return d.useEffect(()=>{const g=m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&p(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),s.createElement(s.Fragment,null,s.createElement(Wo,{mode:c?"drag":void 0},s.createElement(ie,{active:!a,onClick:()=>o()},s.createElement(Ee,{toggled:a,width:12,height:8})),s.createElement(Go,k({},c?$():{},{drag:c,filterEnabled:l}),i===void 0&&c?s.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{cx:"2",cy:"2",r:"2"}),s.createElement("circle",{cx:"14",cy:"2",r:"2"}),s.createElement("circle",{cx:"26",cy:"2",r:"2"}),s.createElement("circle",{cx:"2",cy:"12",r:"2"}),s.createElement("circle",{cx:"14",cy:"12",r:"2"}),s.createElement("circle",{cx:"26",cy:"12",r:"2"})):i),l&&s.createElement(ie,{active:f,onClick:()=>p(g=>!g)},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},s.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),s.createElement(Fo,{toggled:f},s.createElement(Yo,{ref:h,setFilter:e,toggle:o})))}s.memo(({store:e,rootClass:t,fill:n=!1,flat:r=!1,neverHide:o=!1,oneLineLabels:a=!1,titleBar:i={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:l,setToggle:u})=>{var f,p;const h=kr(e),[$,g]=d.useState(""),m=d.useMemo(()=>Co(h,$),[h,$]),[y,w]=dt(),E=o||h.length>0,x=typeof i=="object"&&i.title||void 0,O=typeof i=="object"&&(f=i.drag)!==null&&f!==void 0?f:!0,P=typeof i=="object"&&(p=i.filter)!==null&&p!==void 0?p:!0,C=typeof i=="object"&&i.position||void 0,S=typeof i=="object"&&i.onDrag||void 0,z=typeof i=="object"&&i.onDragStart||void 0,G=typeof i=="object"&&i.onDragEnd||void 0;return s.useEffect(()=>{w({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,w]),gn(),s.createElement(rt.Provider,{value:{hideCopyButton:c}},s.createElement(Uo,{ref:y,className:t,fill:n,flat:r,oneLineLabels:a,hideTitleBar:!i,style:{display:E?"block":"none"}},i&&s.createElement(Ko,{onDrag:I=>{w(I),S==null||S(I)},onDragStart:I=>z==null?void 0:z(I),onDragEnd:I=>G==null?void 0:G(I),setFilter:g,toggle:I=>u(se=>I??!se),toggled:l,title:x,drag:O,filterEnabled:P,from:C}),E&&s.createElement(nt.Provider,{value:e},s.createElement(xt,{isRoot:!0,fill:n,flat:r,tree:m,toggled:l}))))});U(M.SELECT,Zn);U(M.IMAGE,lo);U(M.NUMBER,Un);U(M.COLOR,Lr);U(M.STRING,ar);U(M.BOOLEAN,hr);U(M.INTERVAL,$o);U(M.VECTOR3D,Ur);U(M.VECTOR2D,Jr);
